<!DOCTYPE html>
<html lang="es">

<head>
    <!-- Icono superior -->
    <link rel="icon" href="../static/img/A1.ico">
    <!-- Metadatos -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Estilos -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
        integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <link rel="stylesheet" href="../static/css/styles.css">
    <!-- Iconos Google -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans:ital,wght@0,400;1,600&display=swap" rel="stylesheet">
    <!-- Título -->
    <title>Futura Face</title>
</head>

<body>
    <header>
        <nav>
            <ul>
                <li><a href="/" title="Inicio"><i class="material-icons">home</i>Inicio</a></li>
                <li><a href="/#cargar" title="Cargar Imagen"><i class="material-icons">upload</i>Cargar Imagen</a></li>
            </ul>
        </nav>
    </header>
    <main>
        <section id="inicio" class="sombra">
            <h1>Futura Face</h1>
            <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et
                dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip
                ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu
                fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia
                deserunt mollit anim id est laborum.</p>
        </section>
        <section id="cargar" class="sombra">
            <hr>
            <h1>Cargar imagen</h1>
            <hr>
            <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et
                dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip
                ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu
                fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia
                deserunt mollit anim id est laborum.</p>
            <label for="imagen">Selecciona una imagen:</label>
            <form id="formularioImagen" action="/preprocesamiento" method="post" enctype="multipart/form-data">
                <input type="file" name="imagen" id="imagen" accept="image/*">
                <input type="submit" value="Procesar Imagen">
            </form>
            <details>
                <summary>Detalles.</summary>
                <input type="button" id="aceptar" value="Aceptar" class="reflejo">
                <input type="button" id="cancelar" value="Cancelar" class="reflejo"></br>
                <i class="material-icons">download</i>
                <i class="material-icons">image</i>
                <i class="material-icons">done</i>
                <i class="material-icons">cancel</i>
                <i class="material-icons">download_done</i>
                <i class="material-icons">ar_on_you</i>
            </details>
        </section>
        <section id="resultados" class="sombra">
            <hr>
            <h1>Resultados.</h1>
            <hr>
            <p>{{ resultado }}</p>
            {% if img_recortada_base64 %}
            <img src="data:image/png;base64,{{ img_recortada_base64 }}" alt="Imagen Original con Rectángulos">
            {% endif %}
            {% if rostros_vectorizados_recortados %}
            <h3>Rostros Detectados:</h3>
            {% for rostro in rostros_vectorizados_recortados %}
            <div>
                <h4>Datos Vectorizados del Rostro:</h4>
                <p>{{ rostro.vectorizacion }}</p>
                <img src="data:image/png;base64,{{ rostro.imagen_base64 }}" alt="Rostro">
            </div>
            {% endfor %}
            {% endif %}
            {% if rostros_recortados %}
            <h4>Rostros Detectados:</h4>
            {% for rostro in rostros_recortados %}
            <img src="data:image/png;base64,{{ rostro.imagen_base64 }}" alt="Rostro">
            {% endfor %}
            {% endif %}
            <details>
                <summary>Normalización</summary>
                {% if rostros_normalizados %}
                <a href="/descargar_normalizacion" download="normalizacion.json">
                    <button>Descargar Normalización</button>
                </a>
                {% endif %}
            </details>
            <details>
                <summary>Vectorización</summary>
                {% if rostros_vectorizados %}
                <a href="/descargar_vectorizacion" download="vectorizacion.json">
                    <button>Descargar Vectorización</button>
                </a>
                {% endif %}
            </details>
        </section>
    </main>
    <script src="/static/js/index.js" type="module"></script>
</body>

</html>